// Youtube Plugin v8.1.0 Mon Feb 01 2021 21:33:22 GMT+0200 (Eastern European Standard Time)
!function(e){"function"==typeof define&&define.amd?define(e):e()}(function(){"use strict";function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function e(r){return function(){var e,t,i,n=s(r);if(function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()){var a=s(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return t=this,!(i=e)||"object"!=typeof i&&"function"!=typeof i?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):i}}var t,c=function(){function e(){h(this,e)}return a(e,null,[{key:"createIframe",value:function(e){var t=document.createElement("div");return t.id=e,t.className="jw-video jw-reset",t.width="100%",t.height="100%",t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.left=0,t.style.top=0,t}},{key:"getVideoId",value:function(e){return e.match(/v=([^&]+)/)[1]}},{key:"qualityLevel",value:function(e){var t=this.formats[e];return{bitrate:t.bitrate,label:t.label,level:e,width:t.width,height:t.height}}},{key:"getQualityLevels",value:function(e){var t=this;return e.map(function(e){return t.qualityLevel(e)})}},{key:"getSeekRange",value:function(e){return{start:0,end:e}}},{key:"getStateEvent",value:function(e){switch(e){case-1:return"buffering";case YT.PlayerState.ENDED:return"idle";case YT.PlayerState.PLAYING:return"playing";case YT.PlayerState.PAUSED:return"paused";case YT.PlayerState.BUFFERING:return"buffering";case YT.PlayerState.CUED:return"loading"}return 0}},{key:"getCaptionUrl",value:function(e,t){return"//video.google.com/timedtext?lang="+e+"&v="+t+"&fmt=vtt"}},{key:"formats",get:function(){return{auto:{label:"Auto",width:0,height:0},tiny:{label:"114p",width:480,height:144,bitrate:64},small:{label:"240p",width:480,height:240,bitrate:64},medium:{label:"360p",width:640,height:360,bitrate:512},large:{label:"480p",width:854,height:480,bitrate:640},hd720:{label:"720p",width:1280,height:720,bitrate:2e3},hd1080:{label:"1080p",width:1920,height:1080,bitrate:4e3},hd1440:{label:"1140p",width:2560,height:1440,bitrate:4e3},hd2160:{label:"2160",width:3840,height:2160,bitrate:4e3},hd2880:{label:"2880p",width:5120,height:2880,bitrate:4e3},highres:{label:"7680p",width:4320,height:7680,bitrate:4e3}}}},{key:"errorCodes",get:function(){return{UNKNOWN_VIDEO_ID:2,STREAM_NOT_FOUND:100,EMBED_NOT_ALLOWED:101,EMBED_NOT_ALLOWED2:150}}}]),e}(),l=new WeakMap,o=function(){function e(){h(this,e),l.set(this,{})}return a(e,[{key:"on",value:function(e,t){var i=l.get(this);return i[e]||(i[e]=[]),i[e].push(t),this}},{key:"once",value:function(t,i){var n=this;return this.on(t,function e(){n.off(t,e),i.apply(void 0,arguments)}),this}},{key:"off",value:function(e,t){var i=l.get(this)[e];return i&&(null===t?i.length=0:i.splice(i.indexOf(t),1)),this}},{key:"listeners",value:function(e){try{return l.get(this)[e]}catch(e){return null}}},{key:"emit",value:function(t){for(var i=this,e=arguments.length,n=new Array(1<e?e-1:0),a=1;a<e;a++)n[a-1]=arguments[a];var r=l.get(this)[t];return r&&r.length?(r.forEach(function(e){e.apply(void 0,[{type:t,target:i}].concat(n))}),!0):this}},{key:"emitAsync",value:function(t){for(var i=this,e=arguments.length,n=new Array(1<e?e-1:0),a=1;a<e;a++)n[a-1]=arguments[a];var r=l.get(this)[t],s=[];return r&&r.length&&r.forEach(function(e){s.push(e.apply(void 0,[{type:t,target:i}].concat(n)))}),Promise.all(s)}}]),e}(),y=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}(n,o);var i=e(n);function n(e){var t;return h(this,n),(t=i.call(this)).delay=e||1e3,t.timer=null,t.running=!1,t}return a(n,[{key:"start",value:function(){this.stop(),this.initTimer(),this.running=!0}},{key:"initTimer",value:function(){var e=this;this.timer=setTimeout(function(){return e.animate()},this.delay)}},{key:"stop",value:function(){clearTimeout(this.timer),this.running=!1}},{key:"animate",value:function(){this.initTimer(),this.emit("timer")}}]),n}(),g=function(){function t(e){h(this,t),this.code=e}return a(t,null,[{key:"logMessage",value:function(e){return e}},{key:"compose",value:function(e,t){return(e||0)+t}}]),t}(),d=null,f=!1,i=!1,v=null,p=null;window.YTAPiLoading=!1,window.YTAPiLoaded=!1,window.onYouTubeIframeAPIReady=function(){window.YTAPiLoaded||(window.YTAPiLoaded=!0,document.querySelectorAll(".jwplayer").forEach(function(e){jwplayer(e).trigger("onYTEngineReady")}))};var u,m=function(){function u(e,t,i){var n=this;h(this,u);var a=this.api=jwplayer(e),r=a.getEnvironment(),s=r.Browser,l=r.OS,o="vm"+(""+Math.random()).slice(3,15);if(p=a.utils,v=a._,this.video=i,this.isSDK=!!t.sdkplatform,this.supportsPlaybackRate=!0,this.isMobile=l.android||l.iOS,this.autoPlay=(1==t.setupConfig.autostart||"none"==t.preload)&&!this.isMobile,this.currentPlaybackRate=1,this.ready=!1,this.ytPlayer=null,this.levels=[],this._textTracks=[],this._element=null,this.progressInterval,this.durationInterval,this.ytVideoId,this.startTime=0,this.config={defaultQuality:null,lang:"",dvr:!1,vr:!1,progressInterval:100,embedConfig:{disablekb:1,html5:1,enablejsapi:1,iv_load_policy:1,playsinline:1,cc_load_policy:1,controls:0,modestbranding:1,autohide:1,showsearch:0,autoplay:this.autoPlay,loop:0,origin:location.protocol+"//"+location.hostname}},this.defaultVolume=100,this.defaultMute=0,window.localStorage&&window.localStorage["jwplayer.volume"])try{this.defaultVolume=t.volume=JSON.parse(window.localStorage["jwplayer.volume"]),this.defaultMute=t.mute=JSON.parse(window.localStorage["jwplayer.mute"])}catch(e){}this.autoPlay&&s.chrome&&(this.startMuted=!0),this.state="idle",this._element=c.createIframe(o),v.extend(this.config,t.setupConfig.youtube),v.extend(this,a.Events),this.api.on("captionsChanged",function(e){n.setSubtitles(e.track)}).on("onYTEngineReady",function(e){n.onYTEngineReady()})}return a(u,[{key:"triggerEvent",value:function(e,t){this.api.trigger(e,t),this.trigger(e,t)}},{key:"supports",value:function(e){return-1<e.file.indexOf("youtube")}},{key:"getName",value:function(){return{name:"youtube"}}},{key:"setState",value:function(e){this.state=e,this.triggerEvent("state",{newstate:e})}},{key:"setPlayState",value:function(e){this.state=e,this.triggerEvent("state",{newstate:e})}},{key:"onYTEngineReady",value:function(){var t=this;this.config.lang&&(this.config.embedConfig.hl=this.config.lang,this.config.embedConfig.cc_lang_pref=this.config.lang),this.config.embedConfig.autoplay=this.autoPlay,this.config.embedConfig.start=this.startTime,this.ytPlayer=this.api.ytPlayer=new YT.Player(this._element.id,{width:"100%",height:"100%",videoId:this.ytVideoId,playerVars:this.config.embedConfig,events:{onReady:function(e){return t.onPlayerReady(e)},onStateChange:function(e){return t.onPlayerStateChange(e)},onPlaybackQualityChange:function(e){return t.onPlayerQualityChange(e)},onPlaybackRateChange:function(e){return t.onPlayerRateChange(e)},onError:function(e){return t.onPlayerError(e)},onApiChange:function(e){return t.onApiChange(e)}}})}},{key:"onPlayerStateChange",value:function(e){var t=c.getStateEvent(e.data);switch(e.data){case-1:break;case YT.PlayerState.ENDED:this.clearProgressInterval(),this.ended();break;case YT.PlayerState.PLAYING:this.setPlayState("bufferFull"),this.setProgressInterval();break;case YT.PlayerState.PAUSED:this.clearProgressInterval();break;case YT.PlayerState.BUFFERING:case YT.PlayerState.CUED:}this.setPlayState(t)}},{key:"dispatchMetadata",value:function(){if(!this.dispatched){this.dispatched=!0;var e=this.ytPlayer.getPlaybackQuality(),t=c.formats,i=(t[e],this.duration);i=i||(this.config.dvr?-1:1/0),this.levels.length||(this.levels=c.getQualityLevels(this.ytPlayer.getAvailableQualityLevels()),this.triggerEvent("levels",{levels:this.levels,currentQuality:this.currentQuality}),this.onPlayerQualityChange()),this.dispatchRateChange(),this.triggerEvent("meta",{duration:i,width:t.width||0,height:t.height||0})}}},{key:"onPlayerReady",value:function(){var e=this;this.ready=!0,this.startMuted&&this.api.once("buffering",function(){e.progressInterval||(e.api.mute(!0,!0),e.play())}),this.defaultMute?this.muted=!0:this.volume(this.defaultVolume),this.ytPlayer.setPlaybackQuality(this.config.defaultQuality),this.setVisibility(!0),this.resolve&&this.resolve(),this.iframeTag=this.api.getContainer().querySelector(".jw-video"),this.setupMetadata()}},{key:"onPlayerError",value:function(e){var t=c.errorCodes,i=null;switch(e.data){case t.STREAM_NOT_FOUND:i="Requested video cannot be found or has been deleted";break;case t.EMBED_NOT_ALLOWED:case t.EMBED_NOT_ALLOWED2:i="Requested video failed to load due to embedding disabled";break;case t.UNKNOWN_VIDEO_ID:default:i="Requested video failed to load because of an unknown error or incorrect playerVideoid"}this.triggerEvent("error",new g(i))}},{key:"onPlayerQualityChange",value:function(){if(this.levels.length){var e="auto"===this.ytPlayer.getPlaybackQuality();this.triggerEvent("levelsChanged",{currentQuality:e?this.levels.length-1:this.currentQuality,levels:this.levels})}}},{key:"onPlayerDurationChange",value:function(){this.triggerEvent("meta",{duration:parseFloat(this.duration)})}},{key:"onPlayerRateChange",value:function(e){this.triggerEvent("ratechange",{playbackRate:e.data})}},{key:"onPlayerProgress",value:function(){var e=this.ytPlayer.getCurrentTime(),t=this.duration,i=this.ytPlayer.getVideoLoadedFraction()*t+.5|0;this.triggerEvent("time",{position:e,duration:t,currentTime:e,seekRange:c.getSeekRange(t),metadata:{currentTime:e}}),this.triggerEvent("bufferChange",{bufferPercent:i,position:e,duration:t,currentTime:e,seekRange:c.getSeekRange(t)})}},{key:"onDvrDurationUpdate",value:function(){this.triggerEvent("meta",{duration:parseFloat(this.duration)})}},{key:"onApiChange",value:function(){var i=this,e=this.ytPlayer.getOptions();if(e.length&&!(e.length&&e.indexOf("captions")<=-1)&&(!this.ccDisplayConfigured&&this.config.ccDisplaySettings&&(this.ccDisplayConfigured=!0,this.ytPlayer.setOption("captions","displaySettings",this.config.ccDisplaySettings)),!this.subtitlesConfigured)){this.subtitlesConfigured=!0;var t=this.ytPlayer.getOption("captions","tracklist"),n=t;this.config.ccLangList&&(n=t.filter(function(e){return-1<i.config.ccLangList.indexOf(e.languageCode)}));var a=[],r=null,s=null,l=0;n.forEach(function(e,t){(s=e.languageCode===i.config.lang)&&(l=t),r={kind:"captions",_id:s?"default":"captions "+a.length,srclang:e.languageCode,label:e.displayName,default:s,data:[]},a.push(r)}),!this.ccDisabled&&0!=l||this.toggleCaptions(!1),this._textTracks=a,this.hasTracks||this.triggerMediaControllerEvent("subtitlesTracks",{tracks:this._textTracks})}}},{key:"triggerMediaControllerEvent",value:function(e,t){this.mediaControllerAll?this.mediaControllerAll.callback(e,t):this.triggerEvent(e,t)}},{key:"getVideoLayer",value:function(){return this._element&&this._element.parentNode}},{key:"init",value:function(){this.triggerEvent("mediaType",{mediaType:"video"})}},{key:"loadPoster",value:function(e){var t=this.api.getContainer().querySelector(".jw-preview"),i="https://i.ytimg.com/vi/"+e+"/maxresdefault.jpg";p.style(t,{backgroundImage:'url("'+i+'")'})}},{key:"load",value:function(i){var n=this;if(this.ready&&this.setPlayState("loading"),!f)return new Promise(function(e,t){n.resolve=e,n.setItem(i)});f=!1,this.triggerEvent("playing"),this.triggerEvent("play")}},{key:"setItem",value:function(e){var t=this;this.dispatched=!1,this.triggerEvent("mediaType",{mediaType:"video"}),this.hasTracks=!!e.tracks.length,this.ytVideoId=c.getVideoId(e.sources[0].file),this.loadPoster(this.ytVideoId),this.startTime=e.starttime||0,this.levels=[],this.setVisibility(!0),this.setupMetadata();var i=this.api.getConfig();if(i.setupConfig.playlist&&(this.hasPlaylist=!0,this.lastItem=i.item>=i.setupConfig.playlist.length-1),this.ytPlayer)this.subtitlesConfigured=!1,this.autoPlay=1,this.ytPlayer.loadVideoById(this.ytVideoId,0,this.config.defaultQuality),this.api.play();else if(window.YTAPiLoaded)this.autoPlay=!this.isIpad,this.onYTEngineReady();else if(!window.YTAPiLoading){i.setupConfig.playlist&&1<i.setupConfig.playlist.length&&this.api.on("time",function(e){e.duration-e.position<=5&&!t.lastItem&&t.api.playlistNext()}),window.YTAPiLoading=!0;var n=document.createElement("script");document.getElementsByTagName("head")[0].appendChild(n),n.src="https://www.youtube.com/iframe_api"}this.dispatchLoad()}},{key:"setupMetadata",value:function(){var e=this;this.api.once("play",function(){e.dispatchMetadata(),e.iframeTag.style["pointer-events"]="none"})}},{key:"dispatchLoad",value:function(){this.triggerEvent("load")}},{key:"pause",value:function(){this.ytPlayer.pauseVideo()}},{key:"play",value:function(){this.ytPlayer.playVideo&&this.ytPlayer.playVideo()}},{key:"seek",value:function(e){var t=this;d=e;try{var i=this.ytPlayer.getCurrentTime();this.seeking=!0,this.timer||(this.timer=new y(1e3),this.timer.on("timer",function(){t.ytPlayer.getCurrentTime()!==i&&(t.timer.stop(),t.triggerEvent("seeked"),1==t.ytPlayer.getPlayerState()&&t.setPlayState("playing"),t.seeking=!1)})),this.ytPlayer.seekTo(e,!0),this.triggerEvent("seek",{position:i,offset:d}),this.timer.start()}catch(e){}}},{key:"stop",value:function(){}},{key:"ended",value:function(){"idle"!==this.state&&(i=!0,this.triggerEvent("beforeComplete"),this.setPlayState("idle"),i=!1,this.triggerEvent("complete"))}},{key:"volume",value:function(e){this.isMuted||(this.ytPlayer.setVolume(e),this.triggerEvent("volume",{volume:e}),this.triggerMediaControllerEvent("volume",{volume:e}))}},{key:"mute",value:function(e){this.muted=!!e}},{key:"detachMedia",value:function(){return this.video}},{key:"attachMedia",value:function(){i&&(this.setPlayState("idle"),this.triggerEvent("complete"),i=!1)}},{key:"eventsOn_",value:function(){}},{key:"eventsOff_",value:function(){}},{key:"isLive",value:function(){return!1}},{key:"setControls",value:function(){}},{key:"setContainer",value:function(e){(t=e).appendChild(this._element),this.setVisibility(!0)}},{key:"getContainer",value:function(){return t}},{key:"supportsFullscreen",value:function(){return!(!t||!(t.requestFullscreen||t.requestFullScreen||t.webkitRequestFullscreen||t.webkitRequestFullScreen||t.webkitEnterFullscreen||t.webkitEnterFullScreen||t.mozRequestFullScreen||t.msRequestFullscreen))}},{key:"remove",value:function(){this.ytPlayer&&this.stop(),p.style(this._element,{display:"none"}),this.setPlayState("idle")}},{key:"destroy",value:function(){}},{key:"setVisibility",value:function(e){(e=!!e)?(p.style(this._element,{display:"block"}),p.style(t,{visibility:"visible",opacity:1})):this._isMobile||p.style(t,{opacity:0})}},{key:"resize",value:function(){}},{key:"preload",value:function(e){f=!0,this.setItem(e)}},{key:"getPlaybackRate",value:function(){if(this.ytPlayer&&this.ytPlayer.getPlaybackRate)return this.ytPlayer.getPlaybackRate()}},{key:"setPlaybackRate",value:function(e){this.ytPlayer&&this.ready&&(this.ytPlayer.setPlaybackRate(e),this.dispatchRateChange())}},{key:"dispatchRateChange",value:function(){this.triggerEvent("ratechange",{playbackRate:this.getPlaybackRate()})}},{key:"getCurrentQuality",value:function(){return this.currentQuality}},{key:"getQualityLevels",value:function(){return this.levels}},{key:"setCurrentQuality",value:function(e){var t=e==this.levels.length-1?"default":this.levels[e].level;this.ytPlayer.setPlaybackQuality(t)}},{key:"setSubtitles",value:function(e){if(!this.hasTracks){if(0==e)this.toggleCaptions(!1);else{var t=this._textTracks[e-1].srclang;this.ytPlayer.setOption("captions","track",{languageCode:t})}this.triggerEvent("subtitlesTrackChanged",{currentTrack:e,tracks:this._textTracks})}}},{key:"toggleCaptions",value:function(e){e?this.ytPlayer.loadModule("captions"):this.ytPlayer.unloadModule("captions"),this.ccDisabled=!e}},{key:"setProgressInterval",value:function(){var e=this;this.progressInterval||(this.progressInterval=setInterval(function(){return e.onPlayerProgress()},this.config.progressInterval),this.config.dvr&&!this.isIpad&&(this.durationInterval=setInterval(function(){return e.onDvrDurationUpdate()},1e4)))}},{key:"clearProgressInterval",value:function(){this.progressInterval&&(clearInterval(this.progressInterval),this.progressInterval=null),this.durationInterval&&(clearInterval(this.durationInterval),this.durationInterval=null)}},{key:"setFullscreen",value:function(e){var t=this.api.getContainer();p.toggleClass(t,"jw-flag-fullscreen",e),p.style(t,"position",e?"fixed":"absolute !important")}},{key:"currentQuality",get:function(){return this.ytPlayer.getAvailableQualityLevels().indexOf(this.ytPlayer.getPlaybackQuality())}},{key:"duration",get:function(){return this.ytPlayer.getDuration()}},{key:"mediaControllerAll",get:function(){return this._events&&this._events.all[0].context&&this._events.all[0].context._events&&this._events.all[0].context._events.all[0]}},{key:"muted",get:function(){return this.ytPlayer.isMuted()},set:function(e){var t=this;this.ytPlayer&&(e?this.ytPlayer.mute():this.ytPlayer.unMute(),this.isMuted=e,setTimeout(function(){var e=t.muted;t.isMuted=e,t.triggerEvent("mute",{mute:e}),t.triggerMediaControllerEvent("mute",{mute:e})},1e3))}},{key:"renderNatively",get:function(){return!1}}]),u}();function k(e,t,i){var n=u(e);return n.ytProvider||(n.ytProvider=new m(e,t,i),n.on("remove",function(){})),n.ytProvider}u=window.jwplayer,k.supports=function(e){return-1<e.file.indexOf("youtube")},k.getName=function(){return{name:"youtube"}},u.api.registerProvider(k)});
